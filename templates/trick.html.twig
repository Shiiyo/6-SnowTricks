{% extends 'base.html.twig' %}

{% block title %}{{ trick.name }}{% endblock %}

{% block body %}
    <h1>{{ trick.name }}</h1>
    <p class="metadata">
        Ecrit le {{ trick.createdAt | date('d/m/Y') }} à {{ trick.createdAt | date('H:i') }} dans la catégorie {{ trick.trickGroup.name }}.
    </p>
    <p>{{ trick.content }}</p>

    {% if app.user %}
        <button type="button" class="btn btn-info"><a href="{{ path('trick_edit', {id:trick.id}) }}">Modifier le trick</a></button>
        <button type="button" class="btn btn-danger"><a href="{{ path('trick_delete', {id:trick.id}) }}" onclick="return confirm('Vous êtes sûr de vouloir supprimer ce trick?')">Supprimer le trick</a></button>
    {% endif %}

    <hr/>
    <div class="comments">
        <h2>Commentaires</h2>

        {% if app.user %}
            <section class="formulaire">
                {{ form(form) }}
            </section>
        {% endif %}

        {% for comment in trick.comments|reverse %}
            <p class="text-primary"> {{ comment.user.username }}</p>
            <p class="text-secondary">{{ comment.content }}</p>
            <p class="text-muted">Ecrit le {{ comment.createdAt | date('d/m/Y') }} à {{ comment.createdAt | date('H:i') }}.</p>
        {% endfor %}
    </div>
{% endblock %}
